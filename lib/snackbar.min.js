$.fn.snackbar=function(a){var t=this,i=$('<div class="snackbar"></div>');$(".snackbar").remove();var s,e,o=3,n="This is a snackbar. (snackbar.js)",c=!1,r="UNDO",d=!1;if(void 0!=a&&(void 0!=a.primary&&(s=a.primary),void 0!=a.accent&&(e=a.accent),void 0!=a.duration&&(o=a.duration),void 0!=a.message&&(n=a.message),void 0!=a.optionText&&(r=a.optionText,r.length>0&&(c=!0)),void 0!=a.swipe&&(d=a.swipe),void 0==a.callback&&(a.callback=function(){}),i.callback=a.callback),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(i.css({width:"100%",left:"0",bottom:"0"}),d=!1),$message=$('<span class="snackbar-message"></span>'),$message.text(n),void 0!=s&&$message.css("color",s),i.append($message),c&&($option=$('<span class="snackbar-option"></span>'),$option.text(r),void 0!=e&&$option.css("color",e),i.append($option)),t.append(i),$(i).show("drop",{direction:"down"},300),d){var l=$(i).offset().left;i.draggable({axis:"x",start:function(a,t){startX=a.clientX},drag:function(a,t){startX-a.clientX>100&&i.css("opacity",1-(startX-a.clientX-100)/200),a.clientX-startX>100&&i.css("opacity",1-(a.clientX-startX-100)/200)},stop:function(a,t){startX-a.clientX>100&&i.hide("drop",{direction:"left"},300),a.clientX-startX>100&&i.hide("drop",{direction:"right"},300),startX-a.clientX<100&&($(this).animate({left:l},250),i.css("opacity",1))}})}else i.delay(1e3*o).hide("drop",{direction:"down"},300);c&&$option.click(function(){i.callback()})};